<!-- Overlay para cerrar el sidebar en móvil -->
<div
  class="sidebar-overlay"
  [ngClass]="{ active: isSidebarOpen && isMobile }"
  (click)="toggleSidebar()"
></div>

<!-- Botón para abrir el sidebar en móvil -->
<button class="sidebar-toggle custom-transparent-btn" (click)="toggleSidebar()">
  <fa-icon [icon]="faBars"></fa-icon>
</button>

<!-- Sidebar -->
<div
  class="sidebar"
  [ngClass]="{ open: isSidebarOpen, collapsed: isCollapsed && !isMobile }"
>
  <div class="sidebar-header">
    <div class="logo-container" *ngIf="!isCollapsed || isMobile">
      <img
        src="../../../../assets/images/logo.jpg"
        alt="Logo"
        class="logo-img"
      />
      <span class="logo-text">
        <span class="logo-panel">Panel</span><br />
        <span class="logo-admin">administrativo</span>
      </span>
    </div>

    <button
      class="collapse-toggle"
      *ngIf="!isMobile"
      (click)="toggleCollapse()"
    >
      <fa-icon [icon]="isCollapsed ? faChevronRight : faChevronLeft"></fa-icon>
    </button>
  </div>

  <div class="sidebar-content">
    <div class="sidebar-section">
      <p
        class="section-title"
        [class.collapsed-text]="isCollapsed && !isMobile"
      ></p>

      <a
        class="sidebar-link"
        routerLink="/admin/dashboard"
        routerLinkActive="active"
        (click)="closeSidebarOnMobile()"
      >
        <fa-icon [icon]="faTachometerAlt"></fa-icon>
        <span *ngIf="!isCollapsed || isMobile">Inicio</span>
      </a>

      <a
        class="sidebar-link"
        routerLink="/admin/clientes"
        routerLinkActive="active"
        (click)="closeSidebarOnMobile()"
      >
        <fa-icon [icon]="faUsers"></fa-icon>
        <span *ngIf="!isCollapsed || isMobile">Clientes</span>
      </a>

      <!-- NUEVA OPCIÓN DE FACTURAS -->
      <a
        class="sidebar-link"
        routerLink="/admin/facturas"
        routerLinkActive="active"
        (click)="closeSidebarOnMobile()"
      >
        <fa-icon [icon]="faFileInvoiceDollar"></fa-icon>
        <span *ngIf="!isCollapsed || isMobile">Facturas</span>
      </a>

      <a
        class="sidebar-link"
        routerLink="/admin/ajustes"
        routerLinkActive="active"
        (click)="closeSidebarOnMobile()"
      >
        <fa-icon [icon]="faCog"></fa-icon>
        <span *ngIf="!isCollapsed || isMobile">Ajustes</span>
      </a>

      <a
        class="sidebar-link"
        routerLink="/admin/perfil"
        routerLinkActive="active"
        (click)="closeSidebarOnMobile()"
      >
        <fa-icon [icon]="faUser"></fa-icon>
        <span *ngIf="!isCollapsed || isMobile">Perfil</span>
      </a>
    </div>

   <div class="sidebar-footer">
  <div class="user-info" [class.collapsed-user]="isCollapsed && !isMobile">
    <img
      [src]="currentUser?.avatarUrl || '../../../../assets/icons/avatar.png'"
      alt="Avatar"
      class="user-avatar"
    />
    <div class="user-details" *ngIf="!isCollapsed || isMobile">
      <span class="user-role">{{ currentUser?.rol || 'Invitado' }}</span>
      <span class="user-name">{{ currentUser?.nombre || 'Sin usuario' }}</span>
    </div>
  </div>
  <a
    class="sidebar-link text-danger logout-link"
    routerLink="/logout"
    (click)="closeSidebarOnMobile()"
  >
    <fa-icon [icon]="faRightFromBracket"></fa-icon>
    <span *ngIf="!isCollapsed || isMobile">Cerrar sesión</span>
  </a>
</div>


  </div>
</div>
